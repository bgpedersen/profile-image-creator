<div id="imgEditContainer">
  <div class="menu">
    <button class="btn" (click)="onMakeCircle()">
      Circle
    </button>
    <button class="btn" (click)="onDownload()">
      Download
    </button>
    <button (click)="onReset()" class="btn">reset</button>
  </div>

  <section>
    <div class="container-image">
      <p class="image-header">Original</p>
      <img #origImg src="" alt="origImg" class="img" />
    </div>

    <div class="container-image">
      <p class="image-header">Edit</p>
      <canvas #canvasEdit id="imgEdit" class="img"></canvas>
    </div>
  </section>

  <section *ngIf="$downloadUrls | async as downloadUrls">
    <progress max="100" [value]="$uploadProgress | async"></progress>

    <div class="result">
      <ul>
        <li *ngFor="let downloadURL of downloadUrls">
          <a [href]="downloadURL">{{ downloadURL }}</a>
        </li>
      </ul>

      <section class="control-bar" *ngIf="$uploadState | async as uploadState">
        <button
          (click)="imageEditorService.task.pause()"
          [disabled]="uploadState === 'paused'"
        >
          Pause
        </button>
        <button
          (click)="imageEditorService.task.cancel()"
          [disabled]="!(uploadState === 'paused' || uploadState === 'running')"
        >
          Cancel
        </button>
        <button
          (click)="imageEditorService.task.resume()"
          [disabled]="uploadState === 'running'"
        >
          Resume
        </button>
      </section>
    </div>
  </section>
</div>
